<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>historico</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header style="text-align: center;">
        <h1 style="color: aliceblue;">ORÇAMENTO</h1>
        <div class="tabela_cabeçalho">
            <a href="https://reemias.github.io/historico/">
                <button style="background-color: red; height: 30px; width: 50px; color: aliceblue;">voltar</button>
            </a>
            <input type="text" id="cliente" class="inserir_serviço" placeholder="cliente">
            <input type="number" id="validade_orçamento" placeholder="validade_orçamento">
            <input type="date" id="data" class="inserir_serviço" placeholder="data">
            <input type="text" id="vendedor" class="inserir_serviço" placeholder="vendedor">
            <button id="adicionar_cabeçalho">Adicionar dados do cliente</button>
        </div>
        <div class="tabela_informação">
            <input type="number" id="quantidade" placeholder="quantidade">
            <input type="text" id="material" class="inserir_serviço" placeholder="serviço_prestado">
            <input type="number" id="preço_unitario" class="inserir_valor" placeholder="preço_unitario">
            <input type="number" id="valor_pago" class="inserir_serviço" placeholder="valor_pago">
            <button id="adicionar">Adicionar dados do orçamento</button>
            <button id="imprimir" style="background-color: green;">imprimir</button>
        </div>
        <div style="display: flex;">
            <div style="color: white; margin: 10px;" id="valor_total">Valor Total: R$ 0.00</div>
            <div style="color: white; margin: 10px;" id="valor_devedor">Valor pendente : R$ 0.00</div>
        </div>
    </header>
    <main>
        <div class="tabela">
            <p>cliente</p>
            <p>validade do orçamento</p>
            <p>data</p>
            <p>vendedor(a)</p>
        </div>
        <div class="box_histórico" id="historico">
        </div>
    </main>
    <footer>
        <h1>sistema da cooperativa i9</h1>
        <br>
        <div>
            <a href="https://wa.me/5582988873225?text=Olá,%20gostaria%20de%20mais%20informações%20sobre%20seus%20serviços.">TERCERIZE SEUS DESIGNER</a>
            <a href="https://wa.me/5582988873225?text=Olá,%20gostaria%20de%20mais%20informações%20sobre%20seus%20serviços.">CONSERTE SEU CELULAR</a>
            <a href="https://wa.me/5582988873225?text=Olá,%20gostaria%20de%20mais%20informações%20sobre%20seus%20serviços.">CONSERTE SEU COMPUTADOR </a>
            <a href="https://wa.me/5582988873225?text=Olá,%20gostaria%20de%20mais%20informações%20sobre%20seus%20serviços.">SUPORTE DE T.I </a>
        </div>
    </footer>
<script>
document.getElementById('adicionar_cabeçalho').addEventListener('click', function() {
    const cliente = document.getElementById('cliente').value;
    const validade = document.getElementById('validade_orçamento').value;
    const data = document.getElementById('data').value;
    const vendedor = document.getElementById('vendedor').value;
    const div = document.createElement('div');
    div.classList.add('historico-item');
    div.style.backgroundColor = 'pink'; // Define o fundo rosa para os dados do cliente
    div.innerHTML = `
        <p>Cliente: ${cliente}</p>
        <p>Validade: ${validade}</p>
        <p>Data: ${data}</p>
        <p>Vendedor: ${vendedor}</p>
        <button class="excluir">Excluir</button>
    `;
    document.getElementById('historico').appendChild(div);
    document.getElementById('cliente').value = '';
    document.getElementById('validade_orçamento').value = '';
    document.getElementById('data').value = '';
    document.getElementById('vendedor').value = '';
    div.querySelector('.excluir').addEventListener('click', function() {
        div.remove();
    });
});

let valorTotal = 0;
let valorDevedor = 0;

document.getElementById('adicionar').addEventListener('click', function() {
    const quantidade = parseFloat(document.getElementById('quantidade').value);
    const material = document.getElementById('material').value;
    const precoUnitario = parseFloat(document.getElementById('preço_unitario').value);
    const valorPago = parseFloat(document.getElementById('valor_pago').value);
    const valorItem = quantidade * precoUnitario;

    valorTotal += valorItem;
    valorDevedor += valorItem - valorPago;

    const div = document.createElement('div');
    div.classList.add('historico-item');
    div.style.display = 'flex';
    div.style.justifyContent = 'space-between';
    div.style.marginBottom = '10px';
    div.innerHTML = `
        <div>
            <p>Quantidade: ${quantidade}</p>
            <p>Material: ${material}</p>
        </div>
        <div style="margin-left: 100px;">
            <p>Preço Unitário: ${precoUnitario}</p>
            <p>Valor Pago: ${valorPago}</p>
        </div>
        <button class="excluir">Excluir</button>
    `;

    document.getElementById('historico').appendChild(div);
    document.getElementById('valor_total').innerText = `Valor Total: R$ ${valorTotal.toFixed(2)}`;
    document.getElementById('valor_devedor').innerText = `Valor pendente : R$ ${valorDevedor.toFixed(2)}`;
    document.getElementById('quantidade').value = '';
    document.getElementById('material').value = '';
    document.getElementById('preço_unitario').value = '';
    document.getElementById('valor_pago').value = '';

    div.querySelector('.excluir').addEventListener('click', function() {
        valorTotal -= valorItem;
        valorDevedor -= valorItem - valorPago;
        document.getElementById('valor_total').innerText = `Valor Total: R$ ${valorTotal.toFixed(2)}`;
        document.getElementById('valor_devedor').innerText = `Valor pendente : R$ ${valorDevedor.toFixed(2)}`;
        div.remove();
    });
});

// Adicionar função de imprimir
document.getElementById('imprimir').addEventListener('click', function() {
    window.print();
});
</script>
</body>
</html>
